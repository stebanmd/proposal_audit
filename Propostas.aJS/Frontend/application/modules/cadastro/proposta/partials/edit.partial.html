<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">

	<div class="col-lg-2 col-md-2 col-sm-3 col-xs-12 p-sidebar">
		<div ui-view="sidebar"></div>
	</div>

	<div class="col-lg-12 col-md-12 col-sm-12 col-xs-12">
		<div data-component="informacoes" ng-controller="PropostaCtrl as ctrl" ng-init="ctrl.init()">
			<div class="cadastro">
				<form class="form" ng-init="ctrl.preparaFormEdit()" enctype="multipart/form-data">
					<div class="step step-3" data-step="3">
						<h2 class="session top">Dados da Proposta</h2>

						<div class="row">
							<div class="col-md-9">
								<p class="text">Nome Proposta</p>
								<input type="text" maxlength="500" class="input" ng-model="ctrl.model.Proposta.Nome">
							</div>
							<div class="col-md-3">
								<p class="text">Data</p>
								<input type="text" maxlength="10" class="input date" placeholder="__/__/___" ng-model="ctrl.model.Proposta.DataFormatada">
							</div>
						</div>
						<div class="row">
							<div class="col-md-4">
								<p class="text">Categoria</p>
								<ui-select class="select" ng-model="ctrl.model.Proposta.IdCategoria" theme="bootstrap" style="width: 100%;">
									<ui-select-match placeholder="Selecione">{{$select.selected.Nome}}</ui-select-match>
									<ui-select-choices repeat="categoria.ID as categoria in ctrl.model.listaCategorias | filter: $select.search">
										<span ng-bind-html="categoria.Nome | highlight: $select.search"></span>
									</ui-select-choices>
								</ui-select>
							</div>
							<div class="col-md-4">
								<p class="text">Fornecedor</p>
								<ui-select class="select" ng-model="ctrl.model.Proposta.IdFornecedor" theme="bootstrap" style="width: 100%;">
									<ui-select-match placeholder="Selecione">{{$select.selected.Nome}}</ui-select-match>
									<ui-select-choices repeat="fornecedor.ID as fornecedor in ctrl.model.listaFornecedores | filter: $select.search">
										<span ng-bind-html="fornecedor.Nome | highlight: $select.search"></span>
									</ui-select-choices>
								</ui-select>
							</div>
							<div class="col-md-4">
								<p class="text">Valor (R$)</p>
								<input type="number" maxlength="10" class="input" ng-model="ctrl.model.Proposta.Valor">
							</div>
						</div>
						<div class="row">
							<div class="col-md-12">
								<p class="text">Descrição</p>
								<textarea class="input" ng-model="ctrl.model.Proposta.Descricao"></textarea>
							</div>
						</div>

						<div class="row">
							<div class="col-md-6" ng-show="ctrl.model.Proposta.Arquivo">
								<p class="text" style="margin-bottom: 10px">Essa proposta já possui um arquivo</p>
								<a href="{{ctrl.model.Proposta.CaminhoArquivo}}" target="_blank" class="btn btn-warning btn-xs">Download</a>
							</div>
							<div class="col-md-6">
								<p class="text" style="margin-bottom: 10px">Carregar um novo Arquivo da Proposta (*.pdf)</p>
								<input id="file" type="file" ngf-select="ctrl.addArquivo($event)" base-sixty-four-input accept="application/pdf" />
							</div>
						</div>

						<br>
					</div>
			</div>
			</form>
			<div class="buttons">
				<button class="btn" ui-sref="root.proposta-list">
					<span class="btn-text">Voltar</span>
				</button>
				<button class="btn btn-success" ng-click="ctrl.salvar()">
					<span class="btn-text">Continuar</span>
				</button>

				<button class="btn btn-info pull-right" ng-show="ctrl.model.Proposta.ID > 0" ui-sref="root.proposta-historico({ id: ctrl.model.Proposta.ID })">
					<span class="btn-text">Histórico</span>
				</button>
			</div>
		</div>
	</div>
</div>
