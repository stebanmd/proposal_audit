<app-navbar [showLoader]="isLoading"></app-navbar>

<div class="container">
  <div class="row top-list">
    <div class="col s6">
      <h5>Usu√°rio</h5>
    </div>
    <div class="col s6">
      <br>
      <button class="btn blue-grey lighten-3 right" routerLink="/usuario">
        <i class="material-icons left">arrow_back</i>Voltar
      </button>
    </div>
  </div>
  <hr>
  <error-summary [errors]="erros"></error-summary>
  <div class="row">
    <form class="col s12" (ngSubmit)="salvar()">
      <div class="row">
        <div class="input-field col s12">
          <input id="nome" name="nome" type="text" class="validate" [(ngModel)]="usuario.Nome" maxlength="500" required>
          <label for="nome" [class.active]="usuario.Nome">Nome</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s3">
          <input id="dataNasc" name="dataNasc" [textMask]="{mask: dataMask}" type="text" class="validate" [(ngModel)]="usuario.DataNascMask"
            required>
          <label for="dataNasc" [class.active]="usuario.DataNascMask">Data Nascimento</label>
        </div>
        <div class="input-field col s4">
          <input id="cpf" name="cpf" type="text" [textMask]="{mask: cpfMask}" class="validate" [(ngModel)]="usuario.CPFMask" required>
          <label for="cpf" [class.active]="usuario.CPFMask">CPF</label>
        </div>
        <div class="input-field col s5">          
          <select materialize="material_select" [materializeSelectOptions]="usuario.Perfil" id="ddlPerfil" [(ngModel)]="usuario.Perfil" name="perfil">
            <option *ngFor="let perfil of perfis" [value]="perfil.key" [selected]="perfil.key == usuario.Perfil">{{perfil.value}}</option>
          </select>
          <label>Perfil</label>
        </div>
      </div>
      <div class="row" *ngIf="usuario.ID == 0">
          <div class="input-field col s7">
            <input id="senha" name="senha" type="password" class="validate" [(ngModel)]="usuario.Senha" maxlength="50" required>
            <label for="senha" [class.active]="usuario.Senha">Senha</label>
          </div>
        </div>
      <div class="row">
        <div class="col s12">
          <input class="btn cyan darken-2 right" type="submit" value="Salvar">
        </div>
      </div>
    </form>
  </div>
</div>
