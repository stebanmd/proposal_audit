<app-navbar [showLoader]="isLoading"></app-navbar>

<div class="container">
  <div class="row top-list">
    <div class="col s6">
      <h5>Proposta</h5>
    </div>
    <div class="col s6">
      <br>
      <button class="btn blue-grey lighten-3 right" routerLink="/proposta">
        <i class="material-icons left">arrow_back</i>Voltar
      </button>
    </div>
  </div>
  <hr>
  <error-summary [errors]="erros"></error-summary>
  <div class="row">
    <form class="col s12" (ngSubmit)="salvar()">
      <div class="row">
        <div class="input-field col s10">
          <input id="nome" name="nome" type="text" class="validate" [(ngModel)]="proposta.Nome" maxlength="500" required>
          <label for="nome" [class.active]="proposta.Nome">Nome</label>
        </div>
        <div class="input-field col s2">
          <input id="data" name="data" [(ngModel)]="proposta.DataMask" materialize="pickadate" [materializeActions]="dataActions" [materializeParams]="[datePikerParams]"
            type="text" />
          <label for="nome" [class.active]="proposta.DataMask">Data</label>
        </div>
      </div>
      <div class="row">
        <div class="input-field col s4">
          <select required materialize="material_select" [materializeSelectOptions]="categorias" id="categoria" [(ngModel)]="proposta.IdCategoria"
            name="categoria">
            <option value="">Selecione</option>
            <option *ngFor="let categoria of categorias" [value]="categoria.ID" [selected]="categoria.ID == proposta.IdCategoria">{{categoria.Nome}}</option>
          </select>
          <label>Categoria</label>
        </div>
        <div class="input-field col s5">
          <select required materialize="material_select" [materializeSelectOptions]="fornecedores" id="fornecedor" [(ngModel)]="proposta.IdFornecedor"
            name="fornecedor">
            <option value="">Selecione</option>
            <option *ngFor="let fornecedor of fornecedores" [value]="fornecedor.ID" [selected]="fornecedor.ID == proposta.IdFornecedor">{{fornecedor.Nome}}</option>
          </select>
          <label>Fornecedor</label>
        </div>
        <div class="input-field col s3">
          <input id="valor" name="valor" type="number" [(ngModel)]="proposta.Valor" required>
          <label for="valor" [class.active]="proposta.Valor">Valor</label>
        </div>
      </div>
      <div class="row" style="margin-bottom: 0px">
        <div class="input-field col s12">
          <textarea name="descricao" class="materialize-textarea" id="descricao" [(ngModel)]="proposta.Descricao"></textarea>
          <label for="descricao" [class.active]="proposta.Descricao">Descrição</label>
        </div>
      </div>
      <div class="" *ngIf="proposta.Arquivo !== ''">
        <div class="col s12">
          <a href="{{proposta.CaminhoArquivo}}" target="_blank">
            Download do arquivo.
          </a>
        </div>
      </div>
      <div class="row">
        <div class="file-field input-field col s8">
          <div class="col">
            <a class="btn-floating waves-effect waves-light light-blue darken-4">
              <i class="material-icons">file_upload
                <input type="file" accept="application/pdf" (change)="selectFileChange($event)">
              </i>
            </a>
          </div>
          <input class="file-path col s10" disabled="disabled" type="text">
          <!-- <div class="file-path-wrapper">
          </div> -->
        </div>
        <div class="input-field col s4">
          <input class="btn cyan darken-2 right" type="submit" value="Salvar">
        </div>
      </div>
    </form>
  </div>
</div>
